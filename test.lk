fib = [n]{
    if n < 1
        0 
    elif n == 1
        1
    else # such comment
        fib[n-2] + fib[n-1]
    end
}

x = 1
print[x]
set_x = [a] { ^x = a }
set_x[2]
print[x]
make_counter = [n]{
    a = n
    { ^a = a + 1 } # last expression is returned
}
counter = make_counter[1]
print[counter]
print[counter]
print[counter]

t = (1,'test')
print[t.0]
print[t.(x-1)]

t.1 = 'notest'
print[t.1]
print[t.(x-2) = 200]
print[t.0]

aa = (
    test: 1, 
    greet: [name] { 'hi ' + name }
)

greeter = [name]{
    
    (
        greet: { 'hi ' + name }
    )
}

dan_greeter = greeter['dan']
fred_greeter = greeter['fred']
print[dan_greeter.greet]


aa.greet['fred']


print[aa.test]
print[aa.0]
